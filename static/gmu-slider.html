<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
</head>
<body>
<div id="slider" style="height: 140px;"></div>

<script src="../scripts/sea-modules/seajs/seajs/2.2.3/sea.js"></script>
<script src="../scripts/sea-modules/sea-config.js"></script>
<script>
    seajs.use(['zepto','gmu/slider/slider'],function($){

        var slider, group, preGroup, uid=0;


        function getNextGroup(prev, active) {
            uid ++;

            // 模拟生成Group信息。
            var num =8 /*Math.max(Math.min(9, Math.round(Math.random() * 9)), 3)*/,
                    i = 0,
                    group = [],
                    titles = [
                        '白昼冷光',
                        '听风者',
                        '暮光之城2',
                        '搞定岳父大人',
                        '三个火枪手',
                        '人在囧途',
                        '第一次',
                        '婚前试爱'
                    ];

            for (; i < num; i++) {
                group.push({
                    href: "javascript:;",
                    pic: "../scripts/sea-modules/GMU/examples/assets/slider/pic" + (i + 1) + ".jpg",
                    title: titles[i],
                    info: (i + 1) + '/' + num,
                    group: '图集'+uid
                });
            }

            return group;
        }

        //当前group
        group = getNextGroup();

        //上一个group
        preGroup = getNextGroup();
        console.log(preGroup)

        slider = new $.ui.Slider( '#slider', {
            index: 0,//当前group中的第一个,
            loop:true,
            content: preGroup,//把两个合起来，以方便切换到前一个group
            selector: {
                container: '.ui-slider-group'    // 容器的选择器
            },
            slide: function(e, index, active){
                //显示当前item的信息
//                console.log(index+"---"+active+"--"+this.getIndex())
//                $('h2.ui-toolbar-title').text(active.group + ' : ' + active.info);


            }
        });

        /*slider.on('edge', function (e, prev, active) {
            //单到达边缘时，你可以选择扩大图片池子。
            var content = this.content(),
                    group = getNextGroup(prev, active);

            this.content(prev ? group.concat(content) : content.concat(group));
        });*/

        //FYI：如果item里面的结构不合意，可以转入一个itemRender为key的Fn给构造器.

    });

</script>
</body>
</html>