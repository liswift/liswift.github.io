<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <title>Document</title>
    <style>
        body{
            margin: 0;
            padding: 0;
        }
    </style>
</head>
<body>
<div id="div1">
    <div id="div2">121231313131</div>
</div>
<div id="dialog1" title="登陆提示">
    <p>请使用百度账号登录后, 获得更多个性化特色功能</p>
</div>

<!--<select name="" id="">1212113</select>-->

<!--<img id="img" ori-width ori-height src="http://imgcdn.eallcn.com/erp/i/20150507/a6bcc43f.jpg@800w.jpg" alt=""/>-->

<script src="../scripts/sea-modules/seajs/seajs/2.2.3/sea.js"></script>
<script src="../scripts/sea-modules/sea-config.js"></script>
<script>
    seajs.use(['zepto','gmu/dialog/dialog'],function($){


        var dialog4 = gmu.Dialog({
            width: 288,
            autoOpen: false,
            closeBtn: true,
            title:"hahahahhah",
            buttons: {
                '取消': function(){
                    this.close();
                }
            },
            events:{
                "click li":function(e){
                    $(e.currentTarget).css("background-color","purple");
                }
            },
            content: '<a></a><ul class="share-list"><li class="renren">人人网</li><li class="sina">新浪微博</li><li class="sms">短信息</li><li class="email">用电子邮件发送信息</li></ul>'
        });
//        dialog4._options['_wrap'].addClass('share-dialog');

        dialog4.open();


        var win_w = $(window).width(),
            win_h = $(window).height(),
            imgRealW = 0,
            imgRealH = 0;

        var img = $("#img");
        img.ready(function(){
            imgRealW = img.width();
            imgRealH = img.height();
            img.attr("ori-width",imgRealW).attr("ori-height",imgRealH);
            resetPos();
        })
        $(window).resize(function(){
            win_w = $(window).width();
            win_h = $(window).height();
            resetPos();
        });


        function resetPos(){
            var oriWidth = img.attr("ori-width"),
                oriHeight = img.attr("ori-height");
            if(win_w/win_h >= oriWidth/oriHeight){
                oriWidth = oriWidth*win_h*0.8/oriHeight;
                oriHeight = win_h*0.8;
                if(oriHeight > imgRealH){
                    oriWidth = imgRealW;
                    oriHeight = imgRealH;
                }
                img.css({
                    height:oriHeight,
                    width:oriWidth,
                    marginTop:(win_h-oriHeight)/2,
                    marginLeft:(win_w-oriWidth)/2
                })
            }
            else{
                oriHeight = oriHeight*win_w*0.8/oriWidth;
                oriWidth = win_w*0.8;
                if(oriWidth > imgRealW){
                    oriWidth = imgRealW;
                    oriHeight = imgRealH;
                }
                img.css({
                    height:oriHeight,
                    width:oriWidth,
                    marginTop:(win_h-oriHeight)/2,
                    marginLeft:(win_w-oriWidth)/2
                })
            }

            img.attr("ori-width",oriWidth).attr("ori-height",oriHeight);
        }

    });

</script>


</body>
</html>